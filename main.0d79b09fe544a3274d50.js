(self.webpackChunkreact_webpack_typescript_2021=self.webpackChunkreact_webpack_typescript_2021||[]).push([[179],{125:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(294),_components_ApiFetch__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(535),_components_BarChart__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(718),_components_StackedBarChart__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(822);function Hello(){const[_,e]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[t,a]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[r,c]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[n,o]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[l,u]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[s,i]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("h1",null,"yrdiary"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_BarChart__WEBPACK_IMPORTED_MODULE_2__.Z,{args:_}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_StackedBarChart__WEBPACK_IMPORTED_MODULE_3__.Z,{args:t}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_StackedBarChart__WEBPACK_IMPORTED_MODULE_3__.Z,{args:r}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_StackedBarChart__WEBPACK_IMPORTED_MODULE_3__.Z,{args:n}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_StackedBarChart__WEBPACK_IMPORTED_MODULE_3__.Z,{args:l}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_StackedBarChart__WEBPACK_IMPORTED_MODULE_3__.Z,{args:s}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_ApiFetch__WEBPACK_IMPORTED_MODULE_1__.Z,{callback:_=>(_=>{const t=find_all_history_with_date(_);t.map((_=>`${_[0].getMonth()+1}/${_[0].getDate()}`)),e([...calc_daily_chart_data_by_xpath(t,"_")]),a([...calc_daily_chart_data_group_by_categories(t,"_")]),c([...calc_daily_chart_data_group_by_categories(t,"_",!0)]),o([...calc_period_chart_data_group_by_none(t,"_",week_mapper)]),u([...calc_period_chart_data_group_by_categories(t,"_",week_mapper)]),i([...calc_period_chart_data_group_by_none(t,"_",month_mapper)])})(_)}))}function matchAll(_,e){const t=[];let a;for(;a=e.exec(_);)t.push(a);return t}function find_all_history_with_date(text){const matches=Array.from(matchAll(text,/- ?([0-9]+)\/([0-9]+) ?({_:.+})/g));return Array.from(matches.map((x=>[new Date(2021,Number(x[1])-1,Number(x[2])-0),eval(`(${x[3]})`)])))}function get_value_by_xpath_or_default(_,e,t=null){const a=_;let r=e;return is_string(e)&&(r=e.split(".")),r.length<=1?a[r[0]]||t:get_value_by_xpath_or_default(a[r[0]]||{},r.slice(1),t)}function is_string(_){return"string"==typeof _||_ instanceof String}function extract_categories_from_all_history(_){const e=new Set(_.map((_=>Object.keys(_[1]))).reduce(((_,e)=>Array.from(new Set([..._,...e])))));return e.delete("_"),e.delete("pigeon"),e.delete("megu"),e.delete("trio2"),["pigeon","megu","trio2",...e]}function parse_date(_){const e=_.split("/");return new Date(Number(e[0]),Number(e[1])-1,Number(e[2]))}function calc_daily_chart_data_by_xpath(_,e,t=!1,a=null,r=null){let c=_.map((_=>`${_[0].getMonth()+1}/${_[0].getDate()}`)),n=_.map((_=>get_value_by_xpath_or_default(_[1],e))),o=0;if(null!=a){const e=parse_date(a);let t=_.map(((_,e)=>e)).filter((t=>_[t][0]>=e));if(null!=r){const e=parse_date(r);t=t.filter((t=>_[t][0]<=e))}c=t.map((_=>c[_])),n=t.map((_=>n[_]))}return n=n.map((_=>Math.round((o=o*(t?1:0)+_)/60*100)/100)),[c,n]}function calc_daily_chart_data_group_by_categories(_,e,t=!1){const a=_.map((_=>`${_[0].getMonth()+1}/${_[0].getDate()}`));let r=0;const c=extract_categories_from_all_history(_);let n=c.map((e=>_.map((_=>get_value_by_xpath_or_default(_[1],`${e}._`,null)||get_value_by_xpath_or_default(_[1],e)))));return n=n.map((_=>(r=0,_.map((_=>Math.round((r=r*(t?1:0)+_)/60*100)/100))))),[a,n,c]}function week_mapper(_){const e=(_=new Date(_)).getDate()-(_.getDay()+6)%7;return _.setDate(e),_}function month_mapper(_){return(_=new Date(_)).setDate(1),_}function calc_period_chart_data_group_by_none(_,e,t){return calc_chart_data_group_by_category_with_selector(_,e,["total"],((_,e,t,a,r)=>get_value_by_xpath_or_default(e,t)),t)}function calc_period_chart_data_group_by_categories(_,e,t){return calc_chart_data_group_by_category_with_selector(_,e,extract_categories_from_all_history(_),((_,e,t,a,r)=>get_value_by_xpath_or_default(e,`${r}._`,null)||get_value_by_xpath_or_default(e,r)),t)}function calc_chart_data_group_by_category_with_selector(_,e,t,a,r){const c=_.map((_=>`${_[0].getMonth()+1}/${_[0].getDate()}`)),n=t.map(((t,r)=>_.map((_=>a(_[0],_[1],e,r,t))))),o=new Date(2021,0,1),l=new Date(2021,_[_.length-1][0].getMonth(),_[_.length-1][0].getDate()),u=t.map((_=>({}))),s=t.map((_=>({}))),i=t.map((_=>[]));for(var p=0;p<t.length;p++)for(var E=new Date(o.getTime());E<=l;E.setDate(E.getDate()+1))s[p][d_f_d(r(E))]=0;for(p=0;p<t.length;p++){for(c.forEach(((_,e)=>u[p][_]=n[p][e])),E=new Date(o.getTime());E<=l;E.setDate(E.getDate()+1))s[p][d_f_d(r(E))]=(s[p][d_f_d(r(E))]||0)+(u[p][d_f_d(E)]||0);i[p]=Object.values(s[p]).map((_=>Math.round(_/60*100)/100))}return[Object.keys(s[0]).map((_=>`${_}ã€œ`)),i,t]}function d_f_d(_){return`${_.getMonth()+1}/${_.getDate()}`}const __WEBPACK_DEFAULT_EXPORT__=Hello},535:(_,e,t)=>{"use strict";t.d(e,{Z:()=>r});var a=t(294);const r=function(_){const{callback:e}=_,t=`https://yuinore.moe/30thou_2021.csv?rand=${(new Date).getTime()}`;return(0,a.useEffect)((()=>{fetch(t,{method:"GET"}).then((_=>_.text())).then((_=>{e(_)}))}),[]),a.createElement("div",null)}},718:(_,e,t)=>{"use strict";t.d(e,{Z:()=>c});var a=t(294),r=t(822);const c=function(_){const{args:e}=_;return a.createElement(r.Z,{args:[e[0],[e[1]],["values"]]})}},822:(_,e,t)=>{"use strict";t.d(e,{Z:()=>n});var a=t(294),r=t(355);const c={chart:{title:"Stacked Bar Chart",subtitle:"Powered by React Google Charts"},isStacked:!0,colors:["#f87777","#f89922","#f8d000","#44cc55","#99d0ee","#44aaee","#7777f8","#dd66dd","#f8aacc","#aaaaaa","#666666"],showToolTip:!0,bar:{groupWidth:"85%"},legend:{position:"top"}},n=function(_){const{args:e}=_;if(void 0===e)return a.createElement("div",null);const[t,n,o]=e;if(void 0===t)return a.createElement("div",null);const l=[["",...o],...(u=n,u[0].map(((_,e)=>u.map((_=>_[e]))))).map(((_,e)=>[t[e],..._]))];var u;return a.createElement("div",null,a.createElement(r.kL,{chartType:"ColumnChart",data:l,width:"100%",height:"400px",options:c}))}},472:(_,e,t)=>{"use strict";var a=t(294),r=t(935),c=t(125);let n=null,o=null;t.g.ResizeObserver=class{constructor(_){n=this,o=_}disconnect(){}observe(_,e){}unobserve(_){}},r.render(a.createElement(a.StrictMode,null,a.createElement(c.Z,null)),document.getElementById("main"))}},_=>{"use strict";_.O(0,[216],(()=>(472,_(_.s=472)))),_.O()}]);